- route:
    id: route-rest-to-mysql
    from:
      id: from-2514
      uri: rest
      parameters:
        method: get
        path: /student/{id}
      steps:
        - log:
            id: log-2466
            message: getting student id - ${header.id}
        - to:
            id: to-2548
            uri: sql
            parameters:
              query: select * from t_student where id=:#${header.id}
        - choice:
            otherwise:
              steps:
                - marshal:
                    id: marshal-8387
                    json: {}
            when:
              - steps:
                  - setHeader:
                      id: setHeader-3175
                      name: CamelHttpResponseCode
                      simple:
                        id: response-code
                        expression: "404"
                  - setBody:
                      header:
                        expression: a
                simple: ${body.isEmpty()}
